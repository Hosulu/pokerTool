<!DOCTYPE HTML>
<html>
<head>
    <meta content="text/html" charset="utf-8">
    <title></title>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css">
    <style>
        #sortable { list-style-type: none; margin: 0; padding: 0; width: 170px; }
        #sortable li { margin: 3px 3px 3px 0; padding: 1px; float: left; width: 50px; height: 80px; font-size: 4em; text-align: center; }
    </style>
    <script>
        $(function() {
            $( "#sortable" ).sortable();
            $( "#sortable" ).disableSelection();
        });
    </script>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
            list-style: none;
        }

        ul {
            display: block;
            width: 170px;
            margin: 0 auto;
            background-color: #EEE;
        }

        li {
            margin: 5px 5px 0 0;
            display: inline-block;
            width: 50px;
            height: 80px;
            background-color: #F3CDA1;
        }

        /*點選項目的色系*/
        .click {
            background-color: #999;
        }

        .selClick {
            /*display: inline;*/
            background-color: #999;
            text-align: center;
        }

        .selItem {
            /*display: inline;*/
            text-align: center;;
        }

        .poker {
            font-size: 32px;
            text-align: center;
        }

        /*項目的預設顏色*/
        .color_bk {
            font-size: 32px;
            color: black;
        }

        .color_rd {
            font-size: 32px;
            color: red;
        }

    </style>
</head>
<body>
<table>
    <tr>
        <td colspan="4">
            <input type="button" id="sortPoker" name="sortPoker" onclick="sortPoker()" value="整理牌面">
            <input type="button" id="clearPoker" name="clearPoker" onclick="clearPoker()" value="清除牌面">
        </td>
        <td rowspan="2" style="vertical-align: top">
            <ul class="selectArea list-group" id="sortable">
            </ul>
        </td>
    </tr>
    <tr>
        <td style="vertical-align: top;text-align: center"><a class="color_bk">♠</a>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_A')">A</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_2')">2</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_3')">3</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_4')">4</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_5')">5</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_6')">6</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_7')">7</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_8')">8</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_9')">9</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_10')">10</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_J')">J</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_Q')">Q</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('1_K')">K</a></div>
        </td>
        <td style="vertical-align: top;text-align: center"><a class="color_rd">♥</a>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_A')">A</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_2')">2</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_3')">3</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_4')">4</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_5')">5</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_6')">6</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_7')">7</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_8')">8</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_9')">9</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_10')">10</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_J')">J</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_Q')">Q</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('2_K')">K</a></div>
        </td>
        <td style="vertical-align: top;text-align: center"><a class="color_rd">♦</a>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_A')">A</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_2')">2</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_3')">3</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_4')">4</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_5')">5</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_6')">6</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_7')">7</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_8')">8</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_9')">9</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_10')">10</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_J')">J</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_Q')">Q</a></div>
            <div class="selItem"><a class="color_rd" onclick="addToSelect('3_K')">K</a></div>
        </td>
        <td style="vertical-align: top;text-align: center"><a class="color_bk">♣</a>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_A')">A</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_2')">2</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_3')">3</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_4')">4</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_5')">5</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_6')">6</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_7')">7</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_8')">8</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_9')">9</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_10')">10</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_J')">J</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_Q')">Q</a></div>
            <div class="selItem"><a class="color_bk" onclick="addToSelect('4_K')">K</a></div>
        </td>
    </tr>
</table>
<script type="text/javascript">
    $(document).ready(function () {
    });

    //綁定動態物件
    $(document).on('click', '.selectArea .item', function () {
        $(this).attr('class', "click");
    });

    $(document).on('click', '.selectArea .click', function () {
        $(this).attr('class', "item");
    });

    $(document).on('click', '.selItem', function () {
        $(this).attr('class', "selClick");
    });

    $(document).on('dblclick', '.click', function () {
        $(this).remove();
    });

//    將選取的項目新增到選取區
    function addToSelect(selVal) {
        var chkType = false;
        var chkNum = false;

        var splitVal = selVal.split('_');
        var typeVal = splitVal[0];
        var numVal = splitVal[1];

//      alert("Type => " + typeVal);
//      alert("num => " + numVal);
        if (typeVal != undefined) {
            chkType = true;
        }
        if (numVal != undefined) {
            chkNum = true;
        }

//      alert(chkType);
//      alert(chkNum);

        //將選取的資料送入選取區
        if (chkType && chkNum) {
            var li = document.createElement("li");
            var typeStr = makeTypeStr(typeVal);

            li.innerHTML = "<div class='poker' >" + typeStr + "<br/>" + numVal + "</div>";
            li.setAttribute('class', "item");
            $('.selectArea').append(li);
        }

    }

    //將TypeVal 轉換成花色圖示
    function makeTypeStr(typeVal) {
        var returnStr = '';
        if (typeVal == '1') {
            returnStr = '<a style="font-size: 30px;color: black">♠</a>';
        } else if (typeVal == '2') {
            returnStr = '<a style="font-size: 30px;color: red">♥</a>';
        } else if (typeVal == '3') {
            returnStr = '<a style="font-size: 30px;color: red">♦</a>';
        } else if (typeVal == '4') {
            returnStr = '<a style="font-size: 30px;color: black">♣</a>';
        }

        return returnStr;
    }

    //整理牌面，將使用過的牌清除
    function sortPoker() {
        $('.selectArea li').each(function (index, element) {
            // element == this
//        alert($(element).hasClass('click'));
            if ($(element).hasClass('click')) {
                $(element).remove();
            }
        });

    }

    //清除牌面，將牌面清除重新開始
    function clearPoker() {
        $('.selectArea li').remove();
        $('.selClick').each(function (index, element) {
            $(element).attr('class', "selItem");
        })
    }

    //移除選取的項目
    function removeItem() {
        $(this).remove();
    }
</script>

</body>
</html>
